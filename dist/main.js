(()=>{"use strict";var e={320:(e,t,n)=>{n.d(t,{c:()=>s});var r=n(648),o=n.n(r),a=n(312),i=n.n(a)()(o());i.push([e.id,'.board{display:grid;grid-template-columns:repeat(10, 1fr);border:1px solid #176b87;filter:drop-shadow(0 0 1rem #176B87)}.board-cell{background-color:#b4d4ff;border:1px dotted #176b87;height:30px;width:30px;display:flex;justify-content:center;align-items:center}.board-cell-AI{background-color:#9ad0c2;border:1px dotted #176b87;height:30px;width:30px;display:flex;justify-content:center;align-items:center}.board-cell:hover{background-color:#86b6f6}.drag-set{border:1px solid #000;background-color:#2d9596}.drag-over{border:1px solid red;background-color:#86b6f6}.drag-over-invalid{border:1px solid red;background-color:pink;transition:100ms ease-in-out;animation:shake .4s;animation-iteration-count:infinite}@keyframes shake{0%{transform:translateX(0)}25%{transform:translateX(3px)}50%{transform:translateX(-3px)}75%{transform:translateX(3px)}100%{transform:translateX(0)}}#setup{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;width:300px;height:300px;background-color:#b4d4ff;padding:2rem;gap:1rem;border-radius:20px;border:4px solid #176b87}#setup .ship{background-color:#9ad0c2}#setup .ship *{pointer-events:none}#setup .ship:hover{background-color:#2d9596;transform:scale(1.03);transition:200ms ease-in-out}#setup .shipblock{border:1px dotted #176b87;height:30px;width:30px;display:flex;justify-content:center;align-items:center;border:1px solid #000}#setup .isX{display:flex;transition:300ms ease-in-out}.mybutton{display:inline-block;font-size:2rem;padding:.5rem 1.2rem;border-radius:1.5rem;color:#f5f4f3;background-color:#2d9596;border:.2rem solid #9ad0c2}.mybutton:hover{background-color:#9ad0c2;border:.2rem solid #2d9596;color:#2d9596;transition:200ms ease-in-out}#play-again{display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:1rem;position:absolute;border-radius:30px;background-color:#b4d4ff;border:5px solid #176b87;min-width:400px;min-height:250px;z-index:10}.hide{display:none !important}.overlay-active{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(33,33,33,.674)}[hidden]{display:none !important}:root{font-size:18px;font-family:"Ubuntu",sans-serif}*,*::before,*::after{margin:0;padding:0;box-sizing:border-box}img{height:100%;width:100%}body{background-color:#2f9fe6;background-size:cover}header{font-family:"Alumni Sans Collegiate One",sans-serif;font-size:5rem;display:flex;justify-content:center;align-items:center;margin-bottom:2rem;background-color:#b4d4ff;color:#176b87}main{display:flex;flex-direction:column;align-items:center;justify-content:center}.content{display:flex;justify-content:center;align-items:center;margin-bottom:2rem;gap:2rem;padding:2rem}',"",{version:3,sources:["webpack://./src/styles/board.scss","webpack://./src/styles/variables.scss","webpack://./src/styles/mixins.scss","webpack://./src/styles/pregame.scss","webpack://./src/styles/main.scss"],names:[],mappings:"AAEA,OACI,YAAA,CACA,qCAAA,CACA,wBAAA,CACA,oCAAA,CAOJ,YACI,wBCTK,CCKL,yBAAA,CACA,WDEgB,CCDhB,UDCgB,CCThB,YAAA,CACA,sBAAA,CACA,kBAAA,CFWJ,eACI,wBCVM,CCEN,yBAAA,CACA,WDEgB,CCDhB,UDCgB,CCThB,YAAA,CACA,sBAAA,CACA,kBAAA,CFeJ,kBACI,wBChBK,CDkBT,UACI,qBAAA,CACA,wBCjBM,CDmBV,WACI,oBAAA,CACA,wBCxBK,CD0BT,mBACI,oBAAA,CACA,qBAAA,CACA,4BAAA,CACA,mBAAA,CACA,kCAAA,CAEJ,iBACI,GAAA,uBAAA,CACA,IAAA,yBAAA,CACA,IAAA,0BAAA,CACA,IAAA,yBAAA,CACA,KAAA,uBAAA,CAAA,CG1CJ,ODEI,YAAA,CACA,sBAAA,CACA,kBAAA,CCDA,cAAA,CAIA,WFKU,CEJV,YFIU,CEHV,wBFNK,CEOL,YAAA,CACA,QAAA,CACA,kBAAA,CACA,wBAAA,CACA,aACI,wBFTE,CEYF,eAEI,mBAAA,CAGR,mBACI,wBFjBE,CEkBF,qBAAA,CACA,4BAAA,CAEJ,kBDpBA,yBAAA,CACA,WDEgB,CCDhB,UDCgB,CCThB,YAAA,CACA,sBAAA,CACA,kBAAA,CC0BI,qBAAA,CAEJ,YAEI,YAAA,CACA,4BAAA,CAIR,UACI,oBAAA,CACA,cAAA,CACA,oBAAA,CACA,oBAAA,CACA,aAAA,CACA,wBFtCM,CEuCN,0BAAA,CAEA,gBACI,wBF3CE,CE4CF,0BAAA,CACA,aF5CE,CE8CF,4BAAA,CAOR,YD7CI,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CC4CA,cAAA,CACA,iBAAA,CACA,kBAAA,CACA,wBF9DK,CE+DL,wBAAA,CACA,eAAA,CACA,gBAAA,CACA,UAAA,CAGJ,MACI,uBAAA,CAGJ,gBACI,iBAAA,CACA,KAAA,CACA,MAAA,CACA,UAAA,CACA,WAAA,CACA,oCAAA,CAGJ,SACI,uBAAA,CCjFJ,MACI,cAAA,CACA,+BAAA,CAGJ,qBAGI,QAAA,CACA,SAAA,CACA,qBAAA,CAEJ,IACI,WAAA,CACA,UAAA,CAGJ,KACI,wBAAA,CAEA,qBAAA,CAIJ,OACI,mDAAA,CACA,cAAA,CF7BA,YAAA,CACA,sBAAA,CACA,kBAAA,CE6BA,kBAAA,CACA,wBH/BK,CGgCL,aH9BK,CGkCT,KFxBI,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,sBAAA,CEyBJ,SFzCI,YAAA,CACA,sBAAA,CACA,kBAAA,CEyCA,kBAAA,CACA,QAAA,CACA,YAAA",sourcesContent:['@import "./variables.scss";\n\n.board{\n    display:grid;\n    grid-template-columns: repeat(10,1fr);\n    border: 1px solid $blue-4;\n    filter: drop-shadow(0 0 1rem $blue-4);\n\n    // width: 30dvh;\n    // height: 30dvh;\n}\n\n\n.board-cell{\n    background-color: $blue-2;\n    @include cell;\n}\n.board-cell-AI{\n    background-color: $green-1;\n    @include cell;\n}\n.board-cell:hover{\n    background-color: $blue-3;\n}\n.drag-set{\n    border: 1px solid black;\n    background-color: $green-2;\n}\n.drag-over{\n    border: 1px solid red;\n    background-color: $blue-3;\n}\n.drag-over-invalid{\n    border: 1px solid red;\n    background-color: pink;\n    transition: 100ms ease-in-out;\n    animation: shake 0.4s;\n    animation-iteration-count: infinite;\n}\n@keyframes shake {\n    0% { transform: translateX(0) }\n    25% { transform: translateX(3px) }\n    50% { transform: translateX(-3px) }\n    75% { transform: translateX(3px) }\n    100% { transform: translateX(0) }\n   }\n\n',"// fonts\n// $font-fam: \n\n//colors\n$blue-1: #EEF5FF;\n$blue-2: #B4D4FF;\n$blue-3: #86B6F6;\n$blue-4: #176B87;\n$green-1: #9AD0C2;\n$green-2: #2D9596;\n\n\n//grid size\n$cell-size-default: 30px;\n$set-up-size: $cell-size-default * 10;","\n@import './variables';\n\n@mixin flex-center{\n    display:flex;\n    justify-content: center;\n    align-items: center;\n}\n\n@mixin cell {\n    border: 1px dotted $blue-4;\n    height: $cell-size-default;\n    width: $cell-size-default;\n    @include flex-center;\n}\n\n@mixin flex-column-center{\n    display:flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n}",'@import "./variables.scss";\n\n#setup{\n    // background-color: red;\n    @include flex-center;\n    flex-wrap: wrap;\n    //desktop width/height\n    // width: 30%;\n    // min-height: 30%;\n    width: $set-up-size;\n    height: $set-up-size;\n    background-color: $blue-2;\n    padding: 2rem;\n    gap:1rem;\n    border-radius: 20px;\n    border:  4px solid $blue-4;\n    .ship{\n        background-color: $green-1;\n        // border: 1px solid black;\n\n        *{\n            //all shipcells none draggable\n            pointer-events: none;\n        }\n    }\n    .ship:hover{\n        background-color: $green-2;\n        transform: scale(1.03);\n        transition: 200ms ease-in-out\n    }\n    .shipblock{\n        @include cell;\n        border: 1px solid black; \n    }\n    .isX{\n        //horizontal?\n        display:flex;\n        transition: 300ms ease-in-out\n    }\n}\n\n.mybutton{\n    display: inline-block;\n    font-size: 2rem;\n    padding: 0.5rem 1.2rem;\n    border-radius: 1.5rem;\n    color: #f5f4f3;\n    background-color: $green-2;\n    border: 0.2rem solid $green-1;\n\n    &:hover{\n        background-color: $green-1;\n        border: 0.2rem solid $green-2;\n        color: $green-2;\n        // transform: scale(1.1);\n        transition: 200ms ease-in-out;\n    }\n    \n\n}\n\n\n#play-again{\n    @include flex-column-center;\n    font-size: 1rem;\n    position: absolute;\n    border-radius: 30px;\n    background-color: $blue-2;\n    border: 5px solid $blue-4;\n    min-width: 400px;\n    min-height: 250px;\n    z-index:10;\n}\n\n.hide{\n    display:none !important;\n}\n\n.overlay-active{\n    position: absolute;\n    top:0;\n    left:0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(33, 33, 33, 0.674);\n}\n\n[hidden]{\n    display:none !important;\n}\n\n\n','\n@import \'./mixins.scss\' ;\n@import \'./variables.scss\';\n@import \'./board.scss\';\n@import "./pregame.scss";\n\n\n:root{\n    font-size: 18px;\n    font-family: "Ubuntu",sans-serif;\n}\n\n*,\n*::before,\n*::after{\n    margin:0;\n    padding:0;\n    box-sizing: border-box;\n}\nimg{\n    height:100%;\n    width: 100%;\n}\n\nbody{\n    background-color: #2f9fe6;\n    // background-image: url("../assets/images/wallpaper3.jpeg");\n    background-size: cover;\n    // background-size: 20%;\n}\n\nheader{\n    font-family: "Alumni Sans Collegiate One", sans-serif;\n    font-size: 5rem;\n    @include flex-center;\n    margin-bottom: 2rem;\n    background-color: $blue-2;\n    color: $blue-4;\n}\n\n\nmain{\n    @include flex-column-center\n}\n\n.content{\n    @include flex-center;\n    margin-bottom: 2rem; \n    gap: 2rem;\n    padding: 2rem;\n}\n\n'],sourceRoot:""}]);const s=i},312:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var A=[].concat(e[c]);r&&i[A[0]]||(void 0!==a&&(void 0===A[5]||(A[1]="@layer".concat(A[5].length>0?" ".concat(A[5]):""," {").concat(A[1],"}")),A[5]=a),n&&(A[2]?(A[1]="@media ".concat(A[2]," {").concat(A[1],"}"),A[2]=n):A[2]=n),o&&(A[4]?(A[1]="@supports (".concat(A[4],") {").concat(A[1],"}"),A[4]=o):A[4]="".concat(o)),t.push(A))}},t}},648:e=>{e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */");return[t].concat([a]).join("\n")}return[t].join("\n")}},596:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var a={},i=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],A=a[c]||0,d="".concat(c," ").concat(A);a[c]=A+1;var u=n(d),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var g=o(p,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:g,references:1})}i.push(d)}return i}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=n(a[i]);t[s].references--}for(var l=r(e,o),c=0;c<a.length;c++){var A=n(a[c]);0===t[A].references&&(t[A].updater(),t.splice(A,1))}a=l}}},176:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},808:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},120:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},520:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},936:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&!e;)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.nc=void 0,(()=>{var e=n(596),t=n.n(e),r=n(520),o=n.n(r),a=n(176),i=n.n(a),s=n(120),l=n.n(s),c=n(808),A=n.n(c),d=n(936),u=n.n(d),p=n(320),g={};g.styleTagTransform=u(),g.setAttributes=l(),g.insert=i().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=A(),t()(p.c,g),p.c&&p.c.locals&&p.c.locals;const C=function(){let e=0;const t=()=>e++;let n=[];const r=()=>{n=[];for(let e=0;e<10;e++){let e=[];for(let t=0;t<10;t++)e.push([""]);n.push(e)}};return r(),{grid:n,resetBoard:r,placeShip:(e,t,r)=>{let o=e.length,a=t[0],i=t[1];for(let t=0;t<o;t++)"x"==r?n[a][i+t].push(e):n[a+t][i].push(e)},receiveAttack:e=>{let r=e[0],o=e[1];return""==n[r][o][0]&&(n[r][o][0]="x"),n[r][o].length>1?(t(),console.log("congrats: ",n[r][o]),n[r][o][1].addHits(),!0):(console.log("MISS!"),!1)},allSunk:()=>17==e,getHits:()=>e,addHits:t}};function m(e,t){let n=e,r=t,o=[];return{attack:e=>(o.push(e[0].toString()+e[1].toString()),r.receiveAttack(e)),placeShip:(e,t,r)=>{n.placeShip(e,t,r)},getOpponentBoard:()=>r,alreadyHitSquares:o}}const f=function(e){const t=e;let n=0;const r=()=>n;function o(){return r()==t}return{isSunk:o,length:e,addHits:()=>(n++,o()),getHits:r}},h=function(e,t){let n=[],r=e,o=t;const a=[];return[5,4,3,2,2,1].forEach((e=>{const t=[f(e)];0==Math.floor(2*Math.random())?t.push("x"):t.push("y"),a.push(t)})),{placeShipsRandomly:()=>{let e,t,n=r.grid;a.forEach((o=>{let a=!1,i=o[0],s=o[1];for(;!a;){let o=0;if("x"==s){e=Math.floor(Math.random()*(10-i.length)),t=Math.floor(10*Math.random());for(let r=0;r<i.length;r++)1==n[t][e+r].length&&o++;o==i.length&&(r.placeShip(i,[t,e],"x"),a=!0)}else if("y"==s){t=Math.floor(Math.random()*(10-i.length)),e=Math.floor(10*Math.random());for(let r=0;r<i.length;r++)1==n[t+r][e].length&&o++;o==i.length&&(r.placeShip(i,[t,e],"y"),a=!0)}}}))},attack:()=>{let e,t,r,a,i=!1;for(;!i;)e=Math.floor(10*Math.random()),t=Math.floor(10*Math.random()),r=e.toString()+t.toString(),n.includes(r)||(a=o.receiveAttack([e,t]),n.push(r),i=!0);return[r,a]},getOpponentBoard:()=>o}};const b=function(){const e=(e,t)=>{const n=document.getElementById(e);for(let e=0;e<10;e++)for(let r=0;r<10;r++){const o=document.createElement("div");o.dataset.cell=e.toString()+r.toString(),o.classList.add(t),n.appendChild(o)}},t=(e,t,n)=>{const r=document.createElement("div");r.id=`ship${n}`,r.setAttribute("draggable","true"),r.dataset.direction="y",r.dataset.length=t,r.classList.add("ship");for(let e=0;e<t;e++){const e=document.createElement("div");e.classList.add("shipblock"),r.appendChild(e)}e.appendChild(r)};return{initGameBoard:e,init:()=>{e("board1","board-cell"),(()=>{const e=document.getElementById("setup");let n=1;[5,4,3,2,2,1].forEach((r=>{t(e,r,n),n++}))})(),document.querySelectorAll(".ship").forEach((e=>{e.addEventListener("dblclick",(()=>{console.log("DOUBLE CLICKSS");const t=e.dataset.direction;e.classList.toggle("isX"),e.dataset.direction="x"==t?"y":"x"}))}))}}},B=n.p+"images/d698910d0b896489d3bb.png";(function(){const e=function(){const e=b();return{resetContent:()=>{document.getElementById("board1").innerHTML="",document.getElementById("setup").innerHTML="",document.getElementById("board2").innerHTML="",document.getElementById("start-game").removeAttribute("hidden"),document.getElementById("setup").removeAttribute("hidden")},loadBattleBoard:()=>{document.getElementById("setup").setAttribute("hidden",""),document.getElementById("board2").innerHTML="",e.initGameBoard("board2","board-cell-AI"),document.getElementById("start-game").setAttribute("hidden","")},attackUpdate:(e,t,n)=>{let r;if(r="human"==e?document.querySelector(`.board-cell-AI[data-cell="${t}"]`):document.querySelector(`.board-cell[data-cell="${t}"]`),n){const e=new Image;e.src=B,r.appendChild(e)}else r.textContent="X"}}}();let t=C(),n=C(),r=m(t,n),o=h(n,t);o.placeShipsRandomly();let a=!0;const i=()=>{e.resetContent(),s(),b().init();const t=function(e){let t=0;function n(e){let t,n=e.target.dataset.direction,r=parseInt(e.target.dataset.length),o=e.target.getBoundingClientRect();if("y"==n){let n=Math.round((o.bottom-o.top)/r);t=Math.floor((e.clientY-o.top)/n),console.log(t)}else if("x"==n){let n=Math.round((o.right-o.left)/r);t=Math.floor((e.clientX-o.left)/n),console.log("x ",t)}e.dataTransfer.setData("formatSquare",t),e.dataTransfer.setData("text/plain",e.target.id),setTimeout((()=>{}),0)}function r(e){e.preventDefault(),e.target.classList.add("drag-over")}function o(e){e.preventDefault(),e.target.classList.add("drag-over")}function a(e){e.target.classList.remove("drag-over")}function i(n){n.preventDefault(),n.target.classList.remove("drag-over");const r=n.dataTransfer.getData("text/plain"),o=parseInt(n.dataTransfer.getData("formatSquare")),a=document.getElementById(r);if(null==a)return;const i=a.dataset.length,s=a.dataset.direction,l=n.target.dataset.cell,c=parseInt(l.slice(0,1)),A=parseInt(l.slice(-1));console.log("hhh",c,A);const d=[];let u=!1;if("x"==s){const e=A-o;for(let t=0;t<i;t++){let n=document.querySelector(`[data-cell="${c}${e+t}"]`);null==n?u=!0:n.hasAttribute("data-has-ship")?(u=!0,d.push(n)):d.push(n)}}else if("y"==s){const e=c-o;console.log("tee",e,i);for(let t=0;t<i;t++){let n=document.querySelector(`[data-cell="${e+t}${A}"]`);console.log("cell is: ",`cell-${t}${A}`,"::META",t),null==n?u=!0:n.hasAttribute("data-has-ship")?(u=!0,d.push(n)):d.push(n)}}u?d.forEach((e=>{e.classList.add("drag-over-invalid"),setTimeout((()=>{e.classList.remove("drag-over-invalid")}),500)})):(d.forEach((e=>{e.classList.add("drag-set"),e.setAttribute("data-has-ship","")})),a.setAttribute("hidden",""),a.setAttribute("draggable","false"),"x"==s?e.placeShip(f(i),[c,A-o],s):e.placeShip(f(i),[c-o,A],s),t++)}return{initDraggable:()=>{document.querySelectorAll(".ship").forEach((e=>{e.addEventListener("dragstart",n)})),document.querySelectorAll(".board-cell").forEach((e=>{e.addEventListener("dragenter",r),e.addEventListener("dragover",o),e.addEventListener("dragleave",a),e.addEventListener("drop",i)}))},getPlaced:()=>t}}(r);t.initDraggable(),l(t)},s=()=>{t=C(),n=C(),r=m(t,n),o=h(n,t),o.placeShipsRandomly()},l=t=>{document.getElementById("start-game").addEventListener("click",(()=>{t.getPlaced()>=6?(console.log("loading battle..."),e.loadBattleBoard(),c()):console.log(t.getPlaced())}))},c=()=>{let t;console.log("battle turns!"),document.querySelectorAll(".board-cell-AI").forEach((o=>{o.addEventListener("click",(()=>{if(a){let i=parseInt(o.dataset.cell.slice(0,1)),s=parseInt(o.dataset.cell.slice(-1)),l=`${i}${s}`;r.alreadyHitSquares.includes(l)||(t=r.attack([i,s]),e.attackUpdate("human",l,t),t?r.getOpponentBoard().allSunk()&&(A("Human"),d()):(a=!1,n()))}}))}));const n=()=>{let t;for(;!a;)t=o.attack(),e.attackUpdate("AI",t[0],t[1]),t[1]?o.getOpponentBoard().allSunk()&&(A("AI"),d()):a=!0}},A=e=>{const t=document.getElementById("play-again");document.querySelector("#play-again .message").textContent=`${e} has won!`,t.classList.toggle("hide"),document.getElementById("overlay").classList.toggle("overlay-active")},d=()=>{const e=document.getElementById("play-again"),t=document.getElementById("overlay");e.addEventListener("click",(()=>{e.classList.toggle("hide"),t.classList.toggle("overlay-active"),i()}))};return{game:i}})().game()})()})();
//# sourceMappingURL=main.js.map